<div class="estatisticas-container">
  <!-- Tabs para Minhas Estatísticas e Estatísticas Gerais -->
  <mat-tab-group class="estatisticas-tabs">
    <mat-tab>
      <ng-template mat-tab-label>
        <div class="tab-label-content">
          <img src="/assets/img/svg/estatisticas.svg" alt="Estatísticas" class="tab-icon" />
          <span><b>Estatísticas</b></span>
        </div>
      </ng-template>
      <ng-template matTabContent>
        <app-minhas-estatisticas
          [estatisticasUsuario]="estatisticasUsuario"
          [isLoading]="isLoading"
          [isResetting]="isResetting"
          [materiasEstatisticas]="materiasEstatisticas"
          [isLoadingMaterias]="isLoadingMaterias"
          (resetarEstatisticas)="resetarEstatisticas()"
          (resetarEstatisticasMateria)="resetarEstatisticasMateria($event)">
        </app-minhas-estatisticas>
      </ng-template>
    </mat-tab>
    
    <mat-tab *ngIf="isAdmin">
      <ng-template mat-tab-label>
        <div class="tab-label-content">
          <img src="/assets/img/svg/geral.svg" alt="Benchmark" class="tab-icon" />
          <span><b>Estatísticas Gerais</b></span>
        </div>
      </ng-template>
      <ng-template matTabContent>
        <app-estatisticas-gerais
          [rankingGeral]="rankingGeral"
          [estatisticasGeraisErros]="estatisticasGeraisErros"
          [isAdmin]="isAdmin">
        </app-estatisticas-gerais>
      </ng-template>
    </mat-tab>
  </mat-tab-group>

  <!-- Janela Genérica para Confirmações -->
  <app-janela-generica
    [titulo]="tituloJanela"
    [mostrar]="mostrarJanelaConfirmacao"
    [botoes]="botoesJanela"
    [isLoading]="isResetting"
    [maxWidth]="'500px'"
    (fechar)="fecharJanelaConfirmacao()">
    <div [innerHTML]="formatarMensagemComQuebrasDeLinha(mensagemJanela)"></div>
  </app-janela-generica>
</div>
