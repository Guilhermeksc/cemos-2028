
.main-container {
	max-width: 1400px;
	margin: 0 auto;
}

/* ensure header inside main-container is centered */
.main-container .header {
  text-align: center;
}

/* Updated styles to match the visual language of flash-cards: card-like nodes,
	 rounded borders, subtle shadows, primary accent on hover and responsiveness. */

.mapa-mental {
	font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
	color: #222;
	max-width: 1100px;
	margin: 0 auto;

	/* center the root block horizontally inside the component */
	display: flex;
	justify-content: center;

	/* container for the list of root nodes - keep a readable max width */
	.roots {
		width: 100%;
		max-width: 900px;
	}

	/* header sits outside the .mapa-mental container in the template but is in the
		 same component, so we style it here for consistency with flash-cards. */
	.header {
		text-align: center;
		margin-bottom: 1rem;

		h2 {
			font-size: 1.9rem;
			font-weight: 700;
			color: #2c3e50;
			margin: 0;
		}
	}

	.loading {
		padding: 12px;
		color: #666;
		text-align: center;
	}

	.error {
		padding: 12px;
		color: #b00;
		text-align: center;
	}

	ul { list-style: none; margin: 0; padding-left: 0; }

	.root-title,
	.node-title {
		cursor: pointer;
		margin: 6px 0;
	}

	/* Card-like label for each node */
		.title-label {
			display: inline-flex;
			align-items: center;
			gap: 10px;
			padding: 0.6rem 0.9rem;
			border-radius: 12px;
			border: 2px solid #e0e0e0;
			/* force transparent to ignore inline background colors from ngStyle */
			background: transparent !important;
			box-shadow: 0 4px 18px rgba(0,0,0,0.06);
			transition: all 180ms ease;
			max-width: 100%;
		}

		/* child indicator badge (shows count or â€”) */
		.title-label .title-text {
			flex: 1 1 auto;
			min-width: 0; /* allow ellipsis/word-break handling */
		}

		.child-indicator {
			flex: 0 0 auto;
			margin-left: 0.6rem;
			font-size: 0.8rem;
			font-weight: 700;
			padding: 0.15rem 0.45rem;
			border-radius: 999px;
			color: #2c3e50;
			background: rgba(52,152,219,0.10);
			border: 1px solid rgba(52,152,219,0.14);
			line-height: 1;
		}

		/* when there are no children, show muted style */
		.child-indicator.none {
			background: transparent;
			color: #999;
			border: 1px dashed #e0e0e0;
		}

	.title-label:hover {
		border-color: #3498db;
		transform: translateY(-2px);
		box-shadow: 0 8px 28px rgba(52,152,219,0.12);
	}

	/* Discrete highlight for the expanded/selected item. Uses !important to
	   override inline background-color from ngStyle when needed. */
	.title-label.expanded {
		border-color: #3498db;
		box-shadow: 0 10px 30px rgba(52,152,219,0.08);
		background: rgba(52,152,219,0.06) !important;
		transform: translateY(-2px);
	}

	.toggle { display: inline-block; width: 1.1em; text-align: center; margin-right: 6px; color: #666; }
	.no-toggle { display: inline-block; text-align: center; color: #999; }

		.title-text {
			display: inline-block;
			/* allow wrapping so full text is visible instead of '...'
				 and keep good word breaks on small screens */
			white-space: normal;
			overflow: visible;
			text-overflow: clip;
			word-break: break-word;
			font-weight: 600;
			color: #2c3e50;
			max-width: 100%;
		}

	.root { margin-bottom: 12px; }
	/* Organogram connectors: vertical line for the group and horizontal links to each child */
	.children {
		position: relative;
		margin-left: 14px;
		padding-left: 32px; /* space for the connector */
		margin-top: 8px;
	}

	/* vertical spine connecting parent to children */
	.children::before {
		content: '';
		position: absolute;
		left: 16px; /* align under the parent's label */
		top: 0;
		bottom: 0;
		width: 2px;
		background: rgba(0,0,0,0.08);
		border-radius: 2px;
	}

	/* small triangle at the top of the spine pointing to the parent */
	.children::after {
		content: '';
		position: absolute;
		left: 12px;
		top: -6px;
		width: 0;
		height: 0;
		border-left: 6px solid transparent;
		border-right: 6px solid transparent;
		border-bottom: 6px solid rgba(0,0,0,0.08);
	}

	/* horizontal connector from the spine to each child label */
	.node {
		position: relative;
	}

	.node::before {
		content: '';
		position: absolute;
		top: 50%;
		left: 16px; /* starting at the spine */
		transform: translateY(-50%);
		width: 16px; /* length to reach the label */
		height: 2px;
		background: rgba(0,0,0,0.08);
		border-radius: 2px;
	}

	/* Small responsive tweaks */
	@media (max-width: 768px) {
		max-width: 100%;

		.title-label {
			padding: 0.5rem 0.7rem;
			border-radius: 10px;
		}

		.title-text {
			font-size: 0.95rem;
			max-width: calc(100% - 2rem);
		}
	}
}
