
.main-container {
	max-width: 1400px;
	margin: 0 auto;
}

/* ensure header inside main-container is centered */
.main-container .header {
  text-align: center;
}

/* Updated styles to match the visual language of flash-cards: card-like nodes,
	 rounded borders, subtle shadows, primary accent on hover and responsiveness. */

.mapa-mental {
	font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
	color: #222;
	max-width: 1100px;
	margin: 0 auto;

	/* center the root block horizontally inside the component */
	display: flex;
	justify-content: center;

	/* container for the list of root nodes - keep a readable max width */
	.roots {
		width: 100%;
		max-width: 900px;
	}

	/* header sits outside the .mapa-mental container in the template but is in the
		 same component, so we style it here for consistency with flash-cards. */
	.header {
		text-align: center;
		margin-bottom: 1rem;

		h2 {
			font-size: 1.9rem;
			font-weight: 700;
			color: #2c3e50;
			margin: 0;
		}
	}

	.loading {
		padding: 12px;
		color: #666;
		text-align: center;
	}

	.error {
		padding: 12px;
		color: #b00;
		text-align: center;
	}

	ul { list-style: none; margin: 0; padding-left: 0; }

	.root-title,
	.node-title {
		cursor: pointer;
		margin: 6px 0;
		position: relative; /* allow horizontal connector pseudo-element */
	}

		/* Card-like label for each node */
			.title-label {
				display: flex; /* use flex and full width so title expands when badge is absent */
				width: 100%;
				position: relative; /* allow absolute-positioned badge */
				align-items: center;
				border-radius: 12px;
				border: 2px solid #e0e0e0;
				padding: 0.4rem 0.6rem;				
				/* force transparent to ignore inline background colors from ngStyle */
				background: transparent !important;
				box-shadow: 0 4px 18px rgba(0,0,0,0.06);
			}

			/* child indicator badge (shows count or â€”) */
			.title-label .title-text {
				flex: 1 1 auto;
				min-width: 0; /* allow ellipsis/word-break handling */
				display: block; /* ensure it can grow to occupy available width */
			}

			.child-indicator {
				position: absolute; /* remove from normal flow so it doesn't reserve space */
				right: 0.9rem;
				top: 50%;
				transform: translateY(-50%);
				font-size: 0.8rem;
				font-weight: 700;
				padding: 0.15rem 0.5rem;
				border-radius: 999px;
				color: #2c3e50;
				background: rgba(52,152,219,0.10);
				border: 1px solid rgba(52,152,219,0.14);
				line-height: 1;
			}

		/* when there are no children, don't render the badge so the title
		   can occupy the available space. Using display:none ensures the
		   element doesn't affect layout. */
		.child-indicator.none {
			display: none;
		}

	.title-label:hover {
		border-color: #3498db;
		box-shadow: 0 8px 28px rgba(52,152,219,0.12);
	}

	/* Discrete highlight for the expanded/selected item. Uses !important to
	   override inline background-color from ngStyle when needed. */
	.title-label.expanded {
		border-color: #3498db;
		box-shadow: 0 10px 30px rgba(52,152,219,0.08);
		background: rgba(52,152,219,0.06) !important;
	}

	.toggle { display: inline-block; width: 1.1em; text-align: center; margin-right: 6px; color: #666; }
	.no-toggle { display: inline-block; text-align: center; color: #999; }

		.title-text {
			display: inline-block;
			/* allow wrapping so full text is visible instead of '...'
				 and keep good word breaks on small screens */
			white-space: normal;
			overflow: visible;
			text-overflow: clip;
			word-break: break-word;
			font-weight: 600;
			color: #2c3e50;
			max-width: 100%;
		}

	.root { margin-bottom: 12px; }
	/* Organogram connectors: vertical line for the group and horizontal links to each child */
	.children {
		position: relative;
		padding-left: 32px; /* space for the vertical spine and horizontal link */
		margin-top: 8px;
	}

	/* vertical spine connecting parent to children */
	.children::before {
		content: '';
		position: absolute;
		left: 16px; /* align under the parent's label */
		top: 0;
		bottom: 0;
		width: 2px;
		background: rgba(0,0,0,0.08);
		border-radius: 2px;
	}

	/* small triangle at the top of the spine pointing to the parent */
	.children::after {
		content: '';
		position: absolute;
		left: 12px;
		top: -6px;
		width: 0;
		height: 0;
		border-left: 6px solid transparent;
		border-right: 6px solid transparent;
		border-bottom: 6px solid rgba(0,0,0,0.08);
	}

	/* horizontal connector from vertical spine to each child title */
	.children .node-title::before {
		content: '';
		position: absolute;
		left: -16px; /* connects back to the vertical spine at 16px */
		top: 50%;
		transform: translateY(-50%);
		width: 16px;
		height: 2px;
		background: rgba(0,0,0,0.08);
		border-radius: 2px;
	}

	/* Small responsive tweaks */
	@media (max-width: 768px) {
		max-width: 100%;

		.title-label {
			padding: 0.4rem 0.6rem;
			border-radius: 10px;
		}

		.title-text {
			font-size: 0.95rem;
		}
	}
}
